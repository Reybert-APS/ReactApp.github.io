(this.webpackJsonpapirestphp=this.webpackJsonpapirestphp||[]).push([[0],{22:function(e,t,a){e.exports=a(46)},27:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),l=a.n(o),c=(a(27),a(2)),i=a(4),u=a(48),m=a(1),s=a.n(m),d=a(6),f=function(){var e=r.a.useState([]),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)({id:""}),c=Object(i.a)(l,2),u=c[0];c[1];r.a.useEffect((function(){m()}),[]);var m=function(){var e=Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://herokuphpapirest.herokuapp.com/read.php");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,o(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"identificacion"),r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Curso"),r.a.createElement("th",null,"nota1"),r.a.createElement("th",null,"nota2"),r.a.createElement("th",null,"nota3"))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.identificacion),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.curso),r.a.createElement("td",null,e.nota1),r.a.createElement("td",null,e.nota2),r.a.createElement("td",null,e.nota3),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return t=e.id,u.id=t,fetch("https://herokuphpapirest.herokuapp.com/delete.php",{method:"DELETE",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8 "},body:JSON.stringify(u)}).catch((function(e){return console.log(e)})),void(window.location.href=window.location.href);var t},className:"button muted-button"},"Eliminar")),r.a.createElement("td",null,r.a.createElement("button",{className:"button muted-button"},"Editar")))}))))},p=a(19),E=a(20),h=a.n(E);function b(e){var t=Object(n.useState)({nombre:"",identificacion:"",curso:"",nota1:"",nota2:"",nota3:""}),a=Object(i.a)(t,2),o=a[0],l=a[1];function c(e){var t=Object(p.a)({},o);t[e.target.id]=e.target.value,l(t)}return r.a.createElement("div",{className:"container mr-0"},r.a.createElement("h1",null," Agregar Empleado"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),h.a.post("https://herokuphpapirest.herokuapp.com/insert.php",JSON.stringify(o)).then((function(e){e.data=o,alert("agregado correctamente ",o)})),window.location.href=window.location.href}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"nombre"},"Nombre"),r.a.createElement("input",{onChange:function(e){return c(e)},value:o.nombre,type:"text",name:"nombre",className:"form-control is-valid",id:"nombre",placeholder:"nombre"}),r.a.createElement("label",{for:"apellido"},"Identificacion"),r.a.createElement("input",{onChange:function(e){return c(e)},value:o.identificacion,type:"text",name:"identificacion",className:"form-control is-valid",id:"identificacion",placeholder:"identificacion"}),r.a.createElement("label",{for:"identificacion"},"curso"),r.a.createElement("input",{onChange:function(e){return c(e)},value:o.curso,type:"text",name:"curso",className:"form-control is-valid",id:"curso",placeholder:"curso"}),r.a.createElement("label",{for:"correo"},"Nota 01"),r.a.createElement("input",{onChange:function(e){return c(e)},value:o.nota1,type:"text",name:"nota1",className:"form-control data.noombre != is-valid ",id:"nota1",placeholder:"nota1"}),r.a.createElement("label",{for:"correo"},"Nota 02"),r.a.createElement("input",{onChange:function(e){return c(e)},value:o.nota2,type:"text",name:"nota2",className:"form-control data.noombre != is-valid ",id:"nota2",placeholder:"nota2"}),r.a.createElement("label",{for:"correo"},"Nota 03"),r.a.createElement("input",{onChange:function(e){return c(e)},value:o.nota3,type:"text",name:"nota3",className:"form-control data.noombre != is-valid ",id:"nota3",placeholder:"nota3"})),r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Agregar")))}var v=a(21),g=function(e){var t,a,n=Object(v.a)({defaultValues:e.currentUser}),o=n.register,l=n.errors,c=n.handleSubmit,i=n.setValue;i("name",e.currentUser.name),i("username",e.currentUser.username);return r.a.createElement("form",{onSubmit:c((function(t,a){console.log(t),t.id=e.currentUser.id,e.updateUser(e.currentUser.id,t),a.target.reset()}))},r.a.createElement("label",null,"Nombre"),r.a.createElement("input",{type:"text",name:"name",ref:o({required:{value:!0,message:"Campo requerido"}})}),r.a.createElement("div",null,null===l||void 0===l||null===(t=l.name)||void 0===t?void 0:t.message),r.a.createElement("label",null,"Nombre de usuario"),r.a.createElement("input",{type:"text",name:"curso",ref:o({required:{value:!0,message:"Campo requerido"}})}),r.a.createElement("div",null,null===l||void 0===l||null===(a=l.username)||void 0===a?void 0:a.message),r.a.createElement("button",null,"Editar usuario"))};var N=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),m=Object(i.a)(l,2),s=m[0],d=m[1],p=Object(n.useState)({id:null,name:"",curso:"",identificacion:"",nota1:"",nota2:"",nota3:""}),E=Object(i.a)(p,2),h=E[0],v=E[1];return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Registro de estudiantes aplicando Hooks"),r.a.createElement("hr",null),r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"flex-large"},s?r.a.createElement("div",null,r.a.createElement("h2",null,"Editar usuario"),r.a.createElement(g,{currentUser:h,updateUser:function(e,t){d(!1),o(a.map((function(a){return a.id===e?t:a})))}})):r.a.createElement("div",null,r.a.createElement("h2",null,"Agregar usuario nuevo"),r.a.createElement(b,{addUser:function(e){e.id=Object(u.a)(),o([].concat(Object(c.a)(a),[e]))}}))),r.a.createElement("div",{className:"flex-large"},r.a.createElement("h2",null,"Visualizar usuarios"),r.a.createElement(f,{users:a,deleteUser:function(e){o(a.filter((function(t){return t.id!==e})))},editRow:function(e){d(!0),v({id:e.id,name:e.name,curso:e.curso,identificacion:e.identificacion,nota1:e.nota1,nota2:e.nota2,nota3:e.nota3})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.4736e4fe.chunk.js.map